---
import backgroundBanner from "@assets/images/Banner.webp";
import midudevLogo from "@assets/svgs/midudev.w.svg";
import astroLogo from "@assets/svgs/astro.w.svg";
import githubLogo from "@assets/svgs/github.w.svg";
import expressLogo from "@assets/svgs/express.w.svg";
import postgresqlLogo from "@assets/svgs/pg.w.svg";
import tailwindLogo from "@assets/svgs/tailwind.w.svg";

import { GradientText } from "@components/ui";

interface Props {
  className?: string;
}

const { className = "" } = Astro.props;

const logos = [
  midudevLogo && {
    src: midudevLogo.src,
    alt: "Midudev",
    href: "https://midudev.com",
  },
  tailwindLogo && {
    src: tailwindLogo.src,
    alt: "Tailwind CSS",
    href: "https://tailwindcss.com",
  },
  astroLogo && {
    src: astroLogo.src,
    alt: "Astro",
    href: "https://astro.build",
  },
  githubLogo && {
    src: githubLogo.src,
    alt: "GitHub",
    href: "https://github.com",
  },
  expressLogo && {
    src: expressLogo.src,
    alt: "Express.js",
    href: "https://expressjs.com",
  },
  postgresqlLogo && {
    src: postgresqlLogo.src,
    alt: "PostgreSQL",
    href: "https://postgresql.org",
  },
].filter(Boolean);
---

<section
  class={`relative w-full overflow-hidden ${className}`}
  aria-label="Stack Tecnológico"
>
  <!-- Gradientes decorativos -->
  <div
    class="absolute top-0 left-0 right-0 h-32 bg-gradient-to-b from-dark-950 via-dark-950/90 to-transparent z-10"
    aria-hidden="true"
  >
  </div>

  <!-- Contenedor principal -->
  <div class="relative w-full h-[400px] md:h-[500px] bg-dark-950">
    <!-- Overlay de gradiente -->
    <div
      class="absolute inset-0 bg-gradient-radial from-purple-600/10 via-dark-950/90 to-dark-950 backdrop-blur-sm"
      aria-hidden="true"
    >
    </div>

    <!-- Imagen de fondo -->
    <div class="absolute inset-0 opacity-50" aria-hidden="true">
      <img
        src={backgroundBanner.src}
        alt=""
        class="w-full h-full object-cover scale-110 rounded-xl animate-fade-in duration-[1000ms]"
        loading="lazy"
        decoding="async"
      />
    </div>

    <!-- Contenido principal -->
    <div
      class="absolute inset-0 flex flex-col items-center justify-center z-20 px-4"
    >
      <h2
        class="text-3xl md:text-4xl font-bold text-center text-gray-300 mb-4 animate-fade-in-up"
      >
        Stack <GradientText>Tecnológico</GradientText> Favorito
      </h2>

      <!-- Grid de logos -->
      <div
        class="grid grid-cols-3 md:grid-cols-6 gap-12 md:gap-20 px-4 max-w-6xl mx-auto py-12"
        role="list"
      >
        {
          logos.length > 0 &&
            logos.map((logo, index) => (
              <a
                href={logo.href}
                target="_blank"
                rel="noopener noreferrer"
                class="group flex items-center justify-center transition-all duration-300 hover:scale-110 animate-fade-in"
                style={`animation-delay: ${200 + index * 100}ms`}
                role="listitem"
              >
                <div class="relative w-14 h-14 md:w-16 md:h-16">
                  <img
                    src={logo.src}
                    alt={`Logo de ${logo.alt}`}
                    class="w-full h-full object-contain opacity-40 group-hover:opacity-100 transition-all duration-300 group-hover:drop-shadow-glow"
                    loading="lazy"
                    decoding="async"
                  />
                  <span class="absolute -bottom-6 left-1/2 -translate-x-1/2 text-sm text-gray-400 opacity-0 group-hover:opacity-100 transition-all duration-300 whitespace-nowrap">
                    {logo.alt}
                  </span>
                </div>
              </a>
            ))
        }
      </div>
    </div>
  </div>

  <!-- Gradiente inferior -->
  <div
    class="absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-dark-950 via-dark-950/90 to-transparent z-10"
    aria-hidden="true"
  >
  </div>
</section>
