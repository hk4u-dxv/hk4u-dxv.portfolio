---
import backgroundBanner from "@assets/images/Banner.webp";
import midudevLogo from "@assets/svgs/midudev.w.svg";
import astroLogo from "@assets/svgs/astro.w.svg";
import githubLogo from "@assets/svgs/github.w.svg";
import expressLogo from "@assets/svgs/express.w.svg";
import postgresqlLogo from "@assets/svgs/pg.w.svg";
import tailwindLogo from "@assets/svgs/tailwind.w.svg";

import { GradientText } from "@components/ui";

interface Props {
  className?: string;
}

const { className = "" } = Astro.props;

const logos = [
  midudevLogo && {
    src: midudevLogo.src,
    alt: "Midudev ",
    href: "https://midudev.com",
  },
  tailwindLogo && {
    src: tailwindLogo.src,
    alt: "Tailwind CSS",
    href: "https://tailwindcss.com",
  },
  astroLogo && {
    src: astroLogo.src,
    alt: "Astro",
    href: "https://astro.build",
  },
  githubLogo && {
    src: githubLogo.src,
    alt: "GitHub",
    href: "https://github.com",
  },
  expressLogo && {
    src: expressLogo.src,
    alt: "Express.js",
    href: "https://expressjs.com",
  },
  postgresqlLogo && {
    src: postgresqlLogo.src,
    alt: "PostgreSQL",
    href: "https://postgresql.org",
  },
].filter(Boolean);
---

<section class={`relative w-full overflow-hidden ${className}`}>
  <!-- Capa de oscurecimiento superior -->
  <div
    class="absolute top-0 left-0 right-0 h-32 bg-gradient-to-b from-dark-950 via-dark-950/90 to-transparent z-10"
  >
  </div>

  <!-- Banner con efecto parallax -->
  <div class="relative w-full h-[400px] md:h-[500px] bg-dark-950">
    <!-- Overlay de gradiente mejorado -->
    <div
      class="absolute inset-0 bg-gradient-radial from-purple-600/10 via-dark-950/90 to-dark-950 backdrop-blur-sm"
    >
    </div>

    <!-- Imagen de fondo con nubes -->
    <div class="absolute inset-0 opacity-20 animate-float">
      <img
        src={backgroundBanner.src}
        alt=""
        class="w-full h-full object-cover scale-110 rounded-xl"
        loading="lazy"
        decoding="async"
      />
    </div>

    <!-- Contenido descriptivo -->
    <div class="absolute inset-0 flex flex-col items-center justify-center z-20 px-4">
      <h2 class="text-3xl md:text-4xl font-bold text-center text-gray-300 mb-4 animate-fade-up">
        Stack <GradientText>Tecnol√≥gico</GradientText>
      </h2>

      <!-- Contenedor de logos -->
      <div
        class="grid grid-cols-3 md:grid-cols-6 gap-12 md:gap-20 px-4 max-w-6xl mx-auto py-12"
      >
        {
          logos.length > 0 &&
            logos.map((logo, index) => (
              <a
                href={logo.href}
                target="_blank"
                rel="noopener noreferrer"
                class="group flex items-center justify-center transition-all duration-300 hover:scale-110 animate-fade-up"
                style={`animation-delay: ${200 + index * 150}ms`}
              >
                <div class="relative w-14 h-14 md:w-16 md:h-16">
                  <img
                    src={logo.src}
                    alt={logo.alt}
                    class="w-full h-full object-contain opacity-40 group-hover:opacity-100 transition-all duration-300 group-hover:drop-shadow-glow"
                    loading="lazy"
                    decoding="async"
                  />
                  <span class="absolute -bottom-6 left-1/2 -translate-x-1/2 text-sm text-gray-400 opacity-0 group-hover:opacity-100 transition-all duration-300 whitespace-nowrap">
                    {logo.alt}
                  </span>
                </div>
              </a>
            ))
        }
      </div>
    </div>
  </div>

  <!-- Capa de oscurecimiento inferior -->
  <div
    class="absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-dark-950 via-dark-950/90 to-transparent z-10"
  >
  </div>
</section>

<style>
  @keyframes float {
    0%, 100% {
      transform: translateY(0) scale(1.05);
    }
    50% {
      transform: translateY(-15px) scale(1);
    }
  }

  .animate-float {
    animation: float 30s ease-in-out infinite;
  }

  .drop-shadow-glow {
    filter: drop-shadow(0 0 8px theme('colors.purple.500'));
  }

  @keyframes fade-up {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-up {
    animation: fade-up 0.5s ease-out forwards;
    opacity: 0;
  }
</style>
